<!DOCTYPE html>
<html>

<head>
	<title>Precision Client | Legacy</title>
	<meta charset="UTF-8" />
	<meta content="Precision Client is a custom eaglercraft client with QOL features, custom texture packs, and more."
		name="description" />
	<meta content="//precisionclient.vercel.app" name="url" />
	<meta content="EtcherFX" name="author" />
	<meta content="Precision Client" property="og:title" />
	<meta content="en-US" property="og:locale" />
	<meta content="website" property="og:type" />
	<meta content="//precisionclient.vercel.app" property="og:url" />
	<meta content="Precision Client is a custom eaglercraft client with QOL features, custom texture packs, and more."
		property="og:description" />
	<script type="text/javascript" src="eagswebrtc.js"></script>
	<script type="text/javascript" src="classes.js"></script>
	<script async src="https://arc.io/widget.min.js#pchPqjfw"></script>
	<style>
		@font-face {
			font-family: "Product Sans";
			src: url(ProductSans.ttf);
		}

		html, body {
			margin: 0;
			padding: 0;
			width: 100vw;
			height: 100vh;
			font-family: 'Product Sans';
			background-image: url("bg.png");
			background-size: cover;
			background-repeat: no-repeat;
			display: flex;
			justify-content: center;
			align-items: center;
			color: #fff;
		}

		#Selection {
			text-align: center;
			background-color: rgba(13, 12, 12, 0.8);
			padding: 20px;
			border-radius: 15px;
			animation: fadeIn 0.5s ease-in-out;
		}

		@keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		h1 {
			margin-bottom: 10px;
		}

		.menu-buttons {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 10px;
		}

		.menu-button {
			border-radius: 10px;
			padding: 10px 20px;
			border: 2px solid #fff;
			background-color: #0d0c0c;
			color: #fff;
			cursor: pointer;
			transition: background-color 0.3s ease, transform 0.2s ease;
		}

		.menu-button:hover {
			background-color: #333;
			transform: scale(1.05);
		}

		.menu-button:active {
			transform: scale(0.95);
		}

		.starter {
			border-radius: 5px;
			border: 1px solid #fff;
			background-color: #0d0c0c;
			color: #fff;
			padding: 10px 20px;
			cursor: pointer;
			margin-top: 20px;
			transition: background-color 0.3s ease, transform 0.2s ease;
		}

		.starter:hover {
			background-color: #333;
			transform: scale(1.05);
		}
	</style>
</head>

<body>
	<div id="Selection">
		<h1>Precision Client | Legacy</h1>
		<h3>Select a texture pack:</h3>
		<div class="menu-buttons">
			<button class="menu-button" data-pack="defaultold">Default Old</button>
			<button class="menu-button" data-pack="defaultnew">Default 1.17+</button>
			<button class="menu-button" data-pack="bombies">Bombies 180k</button>
			<button class="menu-button" data-pack="bones">Bare Bones</button>
			<button class="menu-button" data-pack="modifiednew">Modified 1.17+</button>
			<button class="menu-button" data-pack="miamiprivate">Miami Private</button>
			<button class="menu-button" data-pack="nebula">Nebula</button>
			<button class="menu-button" data-pack="rhedd">Rhedd</button>
			<button class="menu-button" data-pack="ricefault">Ricefault</button>
			<button class="menu-button" data-pack="tightfault">Tightfault</button>
			<button class="menu-button" data-pack="walifault">Walifault</button>
		</div>
		<input class="starter" type="button" value="Launch" onclick="Start();" />
	</div>

	<script type="text/javascript">
		let selectedPack = null;
		const buttons = document.querySelectorAll('.menu-button');

		buttons.forEach(button => {
			button.addEventListener('click', function() {
				// Remove active state from all buttons
				buttons.forEach(btn => btn.style.backgroundColor = '#0d0c0c');
				
				// Set active state for the selected button
				this.style.backgroundColor = '#444';
				
				// Set selected pack
				selectedPack = this.getAttribute('data-pack');
			});
		});

		function Start() {
			if (selectedPack) {
				document.getElementById("Selection").style.display = "none";
				localStorage.LastPack = selectedPack;
				const relayId = Math.floor(Math.random() * 3);
				window.eaglercraftOpts = {
					container: "game_frame",
					assetsURI: `packs/${selectedPack}.epk`,
					serverWorkerURI: "worker_bootstrap.js",
					worldsFolder: "MAIN",
					assetOverrides: {
						"records/wait.mp3": "wait.mp3",
						// Add more asset overrides here if necessary
					},
					servers: [
						{ serverName: "A*spixel", serverAddress: "wss://web.asspixel.net/CAPixel/", hideAddress: true },
						{ serverName: "VanillaCraft", serverAddress: "wss://play.vanillacraftsmp.org/", hideAddress: true }
					],
					relays: [
						{ addr: "wss://relay.deev.is/", name: "lax1dude relay #1", primary: relayId == 0 },
						{ addr: "wss://relay.lax1dude.net/", name: "lax1dude relay #2", primary: relayId == 1 },
						{ addr: "wss://relay.shhnowisnottheti.me/", name: "ayunami relay #1", primary: relayId == 2 }
					],
					mainMenu: { splashes: [], eaglerLogo: false }
				};
				main();
			} else {
				alert("You need to select a pack");
			}
		}

		if (localStorage.LastPack) {
			buttons.forEach(button => {
				if (button.getAttribute('data-pack') === localStorage.LastPack) {
					button.style.backgroundColor = '#444';
					selectedPack = localStorage.LastPack;
				}
			});
		}
	</script>
</body>

</html>